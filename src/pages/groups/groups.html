<!--
  Generated template for the GroupsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="hcolor">
    <ion-title>Feeds</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-list no-lines>
    <ion-list-header>

      <ion-buttons end>
        <button ion-button (click)="onAddPost()">
          <ion-icon name="ios-add-circle-outline"></ion-icon>
        </button>
      </ion-buttons>

    </ion-list-header>
    <ion-list>
      <ion-item-sliding *ngFor="let item of myFeed">
        <ion-item>

          <ion-avatar item-start>
            <img src="{{item.user.photoURL}}">
            <span>              {{item.user.displayName || item.user.username}}
</span>
          </ion-avatar>
          <ion-note color="">   {{item.created_at | date : 'dd/MM/yyyy h.mma'}}</ion-note>
          <div (click)="viewPostDetails(item)">
            <h4>{{item.title}} </h4>
            <p>{{item.content}}</p>
          </div>

          <ion-icon item-end ios="ios-heart" md="ios-heart-outline" *ngIf="!item.isFavoritedByMe"
          ></ion-icon>
          <ion-icon item-end ios="ios-heart" md="ios-heart" *ngIf="item.isFavoritedByMe"
          ></ion-icon>


        </ion-item>
        <ion-item-options side="right" *ngIf="isItMine(item)">
          <button ion-button color="secondary" (click)="editPost(item)">
            <ion-icon name="create"></ion-icon>
            Edit
          </button>
        </ion-item-options>

        <ion-item-options side="left" *ngIf="isItMine(item)">
          <button ion-button color="danger" (click)="removePost(item.uid)">
            <ion-icon name="trash"></ion-icon>
            Remove
          </button>
        </ion-item-options>


      </ion-item-sliding>
    </ion-list>
  </ion-list>

</ion-content>
